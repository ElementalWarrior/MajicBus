

    <script src="http://maps.googleapis.com/maps/api/js">
    </script>
    <script>
        //window.busStops = @*@Newtonsoft.Json.JsonConvert.SerializeObject(Model)*@;
        //var busStops = JSON.parse("[{\"lat\": 49.9181689367744, \"lng\": -119.40260090566},{\"lat\": 49.9181643818211, \"lng\": -119.406189931682},{\"lat\": 49.9180676677642, \"lng\": -119.409448636241},{\"lat\": 49.914046579664, \"lng\": -119.41362784456},{\"lat\": 49.9126585658355, \"lng\": -119.416271425548},{\"lat\": 49.9109947091827, \"lng\": -119.422177277418},{\"lat\": 49.9065397176398, \"lng\": -119.422759346474},{\"lat\": 49.9015882076357, \"lng\": -119.424963917981},{\"lat\": 49.8986510532142, \"lng\": -119.426366336995},{\"lat\": 49.9001528670264, \"lng\": -119.429450173396},{\"lat\": 49.8990569183841, \"lng\": -119.431428434288},{\"lat\": 49.8992311499755, \"lng\": -119.4327051709},{\"lat\": 49.8987153264518, \"lng\": -119.436009529839},{\"lat\": 49.8957626100168, \"lng\": -119.439568558513},{\"lat\": 49.8988111901042, \"lng\": -119.442480862288},{\"lat\": 49.9011262834642, \"lng\": -119.450905919575},{\"lat\": 49.9012050921654, \"lng\": -119.453939550855},{\"lat\": 49.9008130492643, \"lng\": -119.455228007001},{\"lat\": 49.9005633704023, \"lng\": -119.456364713973},{\"lat\": 49.900395290057, \"lng\": -119.458079495421},{\"lat\": 49.9001867003913, \"lng\": -119.459803345949},{\"lat\": 49.8982403310121, \"lng\": -119.462514158104},{\"lat\": 49.8979017136506, \"lng\": -119.463642755647},{\"lat\": 49.8976502980428, \"lng\": -119.465727475089},{\"lat\": 49.8964215198226, \"lng\": -119.465730564339},{\"lat\": 49.8956030744, \"lng\": -119.465737155404},{\"lat\": 49.8947266252343, \"lng\": -119.465772065424},{\"lat\": 49.8936936279795, \"lng\": -119.465789078589},{\"lat\": 49.8932532410184, \"lng\": -119.46579485141},{\"lat\": 49.8932783749616, \"lng\": -119.468350052376},{\"lat\": 49.893111871601, \"lng\": -119.470130983059},{\"lat\": 49.8932929079634, \"lng\": -119.470646270764},{\"lat\": 49.892566171391, \"lng\": -119.470967635349},{\"lat\": 49.8935414160026, \"lng\": -119.477003826535},{\"lat\": 49.8935385970519, \"lng\": -119.478260779706},{\"lat\": 49.8935349522594, \"lng\": -119.479875198358},{\"lat\": 49.8935290064208, \"lng\": -119.482734607718},{\"lat\": 49.8935464746539, \"lng\": -119.488472135424},{\"lat\": 49.8935462503248, \"lng\": -119.491884814803},{\"lat\": 49.8935503916407, \"lng\": -119.493512754228},{\"lat\": 49.8935658531641, \"lng\": -119.494872889173},{\"lat\": 49.8915489878161, \"lng\": -119.496621834951},{\"lat\": 49.8899342034286, \"lng\": -119.496625119426},{\"lat\": 49.8889857169738, \"lng\": -119.496593011019},{\"lat\": 49.8873048016942, \"lng\": -119.496606043743},{\"lat\": 49.8863205827285, \"lng\": -119.496600302953},{\"lat\": 49.8863244703218, \"lng\": -119.497938921015},{\"lat\": 49.8860502177921, \"lng\": -119.499361199914},{\"lat\": 49.8853661404824, \"lng\": -119.499405034937}]");
        //var busStops = JSON.parse("[{\"lat\": 50.0151965188167, \"lng\": -119.391758798568},{\"lat\": 50.0179854407251, \"lng\": -119.391726040612},{\"lat\": 50.019070613276, \"lng\": -119.391708337144},{\"lat\": 50.0201531531466, \"lng\": -119.391707493939},{\"lat\": 50.0201559999319, \"lng\": -119.395465433509},{\"lat\": 50.0201193819652, \"lng\": -119.406080195542},{\"lat\": 50.0075727570852, \"lng\": -119.402890020901},{\"lat\": 49.9703591820577, \"lng\": -119.385678089779},{\"lat\": 49.9520203391552, \"lng\": -119.386317696118},{\"lat\": 49.9410243837911, \"lng\": -119.388398559342},{\"lat\": 49.9336405414473, \"lng\": -119.390209355533},{\"lat\": 49.9330130251193, \"lng\": -119.38934511136},{\"lat\": 49.9290758145039, \"lng\": -119.386469633668},{\"lat\": 49.9244167670783, \"lng\": -119.386543488669},{\"lat\": 49.922818359758, \"lng\": -119.386545945415},{\"lat\": 49.921894008457, \"lng\": -119.386560380552},{\"lat\": 49.9196334555579, \"lng\": -119.386759614161},{\"lat\": 49.9181386176119, \"lng\": -119.387840604058},{\"lat\": 49.9164950938782, \"lng\": -119.389551176111},{\"lat\": 49.9130604951145, \"lng\": -119.395913691114},{\"lat\": 49.9117763717861, \"lng\": -119.398062595544},{\"lat\": 49.9049600396506, \"lng\": -119.405467813053},{\"lat\": 49.904825148714, \"lng\": -119.407016053538},{\"lat\": 49.9012726465629, \"lng\": -119.408847793832},{\"lat\": 49.8954041576308, \"lng\": -119.414308651497},{\"lat\": 49.8927492731439, \"lng\": -119.416823613914},{\"lat\": 49.89083426724, \"lng\": -119.418595819146},{\"lat\": 49.8900523257982, \"lng\": -119.419764080113},{\"lat\": 49.8894402783813, \"lng\": -119.420522054221},{\"lat\": 49.8885586356251, \"lng\": -119.421906892136},{\"lat\": 49.8862229853522, \"lng\": -119.42535602075},{\"lat\": 49.884405072306, \"lng\": -119.429051827722},{\"lat\": 49.8819452742969, \"lng\": -119.434714934722},{\"lat\": 49.8818390387753, \"lng\": -119.437427765727},{\"lat\": 49.8818619704111, \"lng\": -119.44323752604},{\"lat\": 49.8818753383714, \"lng\": -119.446655602956},{\"lat\": 49.8818795566699, \"lng\": -119.447738434079},{\"lat\": 49.8818874588207, \"lng\": -119.449776034359},{\"lat\": 49.8819058966836, \"lng\": -119.454551762719},{\"lat\": 49.881919806603, \"lng\": -119.458184687206},{\"lat\": 49.8819345223748, \"lng\": -119.462054614684},{\"lat\": 49.8819486111424, \"lng\": -119.465788556776},{\"lat\": 49.88212399631, \"lng\": -119.468924770524},{\"lat\": 49.8831988206077, \"lng\": -119.473330575457},{\"lat\": 49.8835415022472, \"lng\": -119.476989478883},{\"lat\": 49.8835718171429, \"lng\": -119.478235715336},{\"lat\": 49.883652042004, \"lng\": -119.482752016703},{\"lat\": 49.8836622024701, \"lng\": -119.48849853489},{\"lat\": 49.883663078465, \"lng\": -119.489895826556},{\"lat\": 49.8836652165289, \"lng\": -119.493473324694},{\"lat\": 49.8836127819508, \"lng\": -119.495053435486},{\"lat\": 49.8835733182452, \"lng\": -119.496248432379},{\"lat\": 49.8844719527445, \"lng\": -119.496571937763},{\"lat\": 49.8844812694194, \"lng\": -119.499392095502}]");
        var busStops = [{ lat: 49.8284322949997000, lng: -119.6309660056470000 }, { lat: 49.8284510990293000, lng: -119.6298961098530000 }, { lat: 49.8286493985409000, lng: -119.6281900089000000 }, { lat: 49.8286777010410000, lng: -119.6268187090950000 }, { lat: 49.8286835971184000, lng: -119.6253739059250000 }, { lat: 49.8287142091916000, lng: -119.6241208979340000 }, { lat: 49.8287404099911000, lng: -119.6237962844210000 }, { lat: 49.8287909182687000, lng: -119.6235799936620000 }, { lat: 49.8289256251587000, lng: -119.6232583868550000 }, { lat: 49.8290576283201000, lng: -119.6230752836390000 }, { lat: 49.8292596295413000, lng: -119.6228866924690000 }, { lat: 49.8294301906151000, lng: -119.6227764082750000 }, { lat: 49.8296510505933000, lng: -119.6227246233630000 }, { lat: 49.8305171214173000, lng: -119.6227739557190000 }, { lat: 49.8307720515693000, lng: -119.6227174416580000 }, { lat: 49.8310323198858000, lng: -119.6225360004890000 }, { lat: 49.8313349917464000, lng: -119.6221686433790000 }, { lat: 49.8326489297790000, lng: -119.6203805608070000 }, { lat: 49.8358835738559000, lng: -119.6160187702720000 }, { lat: 49.8361372834596000, lng: -119.6156791027890000 }, { lat: 49.8362223977103000, lng: -119.6155597563180000 }, { lat: 49.8364651110336000, lng: -119.6152327843190000 }, { lat: 49.8371043470139000, lng: -119.6143681458380000 }, { lat: 49.8396176862575000, lng: -119.6109682411060000 }, { lat: 49.8399748931141000, lng: -119.6104842481990000 }, { lat: 49.8403123870247000, lng: -119.6100337084440000 }, { lat: 49.8474010067363000, lng: -119.6005538496160000 }, { lat: 49.8477746795343000, lng: -119.6001357751100000 }, { lat: 49.8481207381409000, lng: -119.5998011275140000 }, { lat: 49.8487925570432000, lng: -119.5992784372540000 }, { lat: 49.8494519762141000, lng: -119.5988984551880000 }, { lat: 49.8542153988587000, lng: -119.5966754859760000 }, { lat: 49.8552601664061000, lng: -119.5959844958980000 }, { lat: 49.8559092506451000, lng: -119.5954285549580000 }, { lat: 49.8562057831249000, lng: -119.5951733550160000 }, { lat: 49.8565164070521000, lng: -119.5948505571530000 }, { lat: 49.8570145423883000, lng: -119.5943381000330000 }, { lat: 49.8579798095678000, lng: -119.5930927184270000 }, { lat: 49.8598993250574000, lng: -119.5903687709780000 }, { lat: 49.8599565203095000, lng: -119.5902862659110000 }, { lat: 49.8600966059366000, lng: -119.5900841657000000 }, { lat: 49.8609314901781000, lng: -119.5886949460370000 }, { lat: 49.8613691317454000, lng: -119.5876909952120000 }, { lat: 49.8615625865629000, lng: -119.5872491249750000 }, { lat: 49.8617070289093000, lng: -119.5868336840760000 }, { lat: 49.8618539935202000, lng: -119.5864150933840000 }, { lat: 49.8620968738865000, lng: -119.5855543571850000 }, { lat: 49.8621486361833000, lng: -119.5853137386890000 }, { lat: 49.8624004106631000, lng: -119.5841433148570000 }, { lat: 49.8625790443919000, lng: -119.5827735466110000 }, { lat: 49.8626499541833000, lng: -119.5813993626710000 }, { lat: 49.8626050923525000, lng: -119.5759390129500000 }, { lat: 49.8625859666116000, lng: -119.5700770508760000 }, { lat: 49.8626703127725000, lng: -119.5687037244220000 }, { lat: 49.8628336990503000, lng: -119.5673848819240000 }, { lat: 49.8631927263856000, lng: -119.5656935488200000 }, { lat: 49.8633785032703000, lng: -119.5651381342150000 }, { lat: 49.8635732298383000, lng: -119.5645660927170000 }, { lat: 49.8637832660606000, lng: -119.5640393650040000 }, { lat: 49.8640158426249000, lng: -119.5634661653070000 }, { lat: 49.8642511257741000, lng: -119.5629978618220000 }, { lat: 49.8644069682982000, lng: -119.5626876706460000 }, { lat: 49.8647037033382000, lng: -119.5621919854920000 }, { lat: 49.8683152738656000, lng: -119.5566799374240000 }, { lat: 49.8686593376902000, lng: -119.5561547631860000 }, { lat: 49.8699042195367000, lng: -119.5542544445410000 }, { lat: 49.8701260059911000, lng: -119.5539158828540000 }, { lat: 49.8701668407725000, lng: -119.5538535389790000 }, { lat: 49.8708334419618000, lng: -119.5528358962120000 }, { lat: 49.8711600345111000, lng: -119.5522246102100000 }, { lat: 49.8713822741150000, lng: -119.5518086457520000 }, { lat: 49.8716135787986000, lng: -119.5512913254830000 }, { lat: 49.8718222749806000, lng: -119.5507110760770000 }, { lat: 49.8719734511388000, lng: -119.5502907401540000 }, { lat: 49.8737468139417000, lng: -119.5441780350200000 }, { lat: 49.8739502361000000, lng: -119.5434187615040000 }, { lat: 49.8743440350423000, lng: -119.5423364305010000 }, { lat: 49.8746610491215000, lng: -119.5416811841190000 }, { lat: 49.8751964229050000, lng: -119.5408707091420000 }, { lat: 49.8755716325143000, lng: -119.5404209120790000 }, { lat: 49.8759559060547000, lng: -119.5400480458400000 }, { lat: 49.8764826314761000, lng: -119.5396410385680000 }, { lat: 49.8786279448732000, lng: -119.5383071642270000 }, { lat: 49.8796376959979000, lng: -119.5376792893130000 }, { lat: 49.8799662208087000, lng: -119.5371676938980000 }, { lat: 49.8803847735613000, lng: -119.5367314167790000 }, { lat: 49.8805475221238000, lng: -119.5365265082590000 }, { lat: 49.8806836469604000, lng: -119.5363076420790000 }, { lat: 49.8807820095714000, lng: -119.5360320146820000 }, { lat: 49.8808258383862000, lng: -119.5357552548010000 }, { lat: 49.8808481730634000, lng: -119.5354061309170000 }, { lat: 49.8808573373636000, lng: -119.5350766140790000 }, { lat: 49.8808805436082000, lng: -119.5349358221550000 }, { lat: 49.8809532986448000, lng: -119.5347523985530000 }, { lat: 49.8810501755550000, lng: -119.5345081588680000 }, { lat: 49.8811341154990000, lng: -119.5343713609080000 }, { lat: 49.8811039499301000, lng: -119.5342660002350000 }, { lat: 49.8811094631937000, lng: -119.5341584058210000 }, { lat: 49.8811502675840000, lng: -119.5340574333440000 }, { lat: 49.8812178690346000, lng: -119.5340004961060000 }, { lat: 49.8812948167225000, lng: -119.5340022907480000 }, { lat: 49.8813692278957000, lng: -119.5340770044690000 }, { lat: 49.8814000838092000, lng: -119.5341651966090000 }, { lat: 49.8814005352804000, lng: -119.5342875229370000 }, { lat: 49.8813231991218000, lng: -119.5344368810260000 }, { lat: 49.8811975710862000, lng: -119.5344457274000000 }, { lat: 49.8810053343472000, lng: -119.5348161199910000 }, { lat: 49.8809721002117000, lng: -119.5350780958920000 }, { lat: 49.8809783736895000, lng: -119.5352324389770000 }, { lat: 49.8810544585791000, lng: -119.5354523003840000 }, { lat: 49.8811209267417000, lng: -119.5355582042290000 }, { lat: 49.8812972452943000, lng: -119.5356308041990000 }, { lat: 49.8814760921246000, lng: -119.5356010383380000 }, { lat: 49.8818254212229000, lng: -119.5353031611630000 }, { lat: 49.8819930245256000, lng: -119.5351954131540000 }, { lat: 49.8824372864922000, lng: -119.5349130524650000 }, { lat: 49.8836150200521000, lng: -119.5331407455410000 }, { lat: 49.8848373074440000, lng: -119.5312141433050000 }, { lat: 49.8850550041778000, lng: -119.5307124529810000 }, { lat: 49.8851952591555000, lng: -119.5301686486920000 }, { lat: 49.8852594890633000, lng: -119.5296523876340000 }, { lat: 49.8852600513676000, lng: -119.5291283891330000 }, { lat: 49.8852148920372000, lng: -119.5286709513520000 }, { lat: 49.8851233325572000, lng: -119.5282228901300000 }, { lat: 49.8849358323570000, lng: -119.5276948338040000 }, { lat: 49.8846159238704000, lng: -119.5270961514510000 }, { lat: 49.8840775349810000, lng: -119.5265394283230000 }, { lat: 49.8826805507946000, lng: -119.5250949255810000 }, { lat: 49.8819492071668000, lng: -119.5243800507300000 }, { lat: 49.8815449178868000, lng: -119.5242013320350000 }, { lat: 49.8811809875231000, lng: -119.5241398246070000 }, { lat: 49.8795536433528000, lng: -119.5241821855870000 }, { lat: 49.8791010152807000, lng: -119.5240410706180000 }, { lat: 49.8786986876500000, lng: -119.5237279823980000 }, { lat: 49.8783572976441000, lng: -119.5233461832300000 }, { lat: 49.8780768114318000, lng: -119.5228342138340000 }, { lat: 49.8779063704539000, lng: -119.5222898663040000 }, { lat: 49.8778018292888000, lng: -119.5213799566770000 }, { lat: 49.8778141446617000, lng: -119.5206895343190000 }, { lat: 49.8780622876755000, lng: -119.5189821943820000 }, { lat: 49.8795004196554000, lng: -119.5110778804240000 }, { lat: 49.8797471904162000, lng: -119.5097212143870000 }, { lat: 49.8804375972564000, lng: -119.5059322968380000 }, { lat: 49.8806936113551000, lng: -119.5045271008320000 }, { lat: 49.8807616380838000, lng: -119.5041536875870000 }, { lat: 49.8811045890066000, lng: -119.5024200370950000 }, { lat: 49.8812778529567000, lng: -119.5020083826280000 }, { lat: 49.8814917347373000, lng: -119.5017027041350000 }, { lat: 49.8818699804191000, lng: -119.5013973629250000 }, { lat: 49.8826430720446000, lng: -119.5011112189970000 }, { lat: 49.8829967957800000, lng: -119.5008945809450000 }, { lat: 49.8832271437699000, lng: -119.5006228644270000 }, { lat: 49.8834403042247000, lng: -119.5002292503830000 }, { lat: 49.8835426809496000, lng: -119.4998556068070000 }, { lat: 49.8835495205287000, lng: -119.4994243199320000 }, { lat: 49.8836668294479000, lng: -119.4994229745520000 }, { lat: 49.8841780778143000, lng: -119.4994255784330000 }, { lat: 49.8844696002539000, lng: -119.4994231627840000 }, { lat: 49.8844966615899000, lng: -119.4966012549990000 }, { lat: 49.8844948626347000, lng: -119.4950394930220000 }, { lat: 49.8853614985047000, lng: -119.4950347039530000 }, { lat: 49.8863193964526000, lng: -119.4950476129480000 }, { lat: 49.8872456700552000, lng: -119.4950594564500000 }, { lat: 49.8873747009008000, lng: -119.4950578255540000 }, { lat: 49.8873735763164000, lng: -119.4953986169520000 }, { lat: 49.8873695719376000, lng: -119.4966094954530000 }, { lat: 49.8873057084917000, lng: -119.4966101878280000 }, { lat: 49.8872423318515000, lng: -119.4966108666970000 }, { lat: 49.8863173662494000, lng: -119.4966057913990000 }, { lat: 49.8853602933722000, lng: -119.4966067039910000 }, { lat: 49.8844966615899000, lng: -119.4966012549990000 }, { lat: 49.8844948626347000, lng: -119.4950394930220000 }, { lat: 49.8844889895164000, lng: -119.4935006635410000 }, { lat: 49.8836897177660000, lng: -119.4934986831010000 }, { lat: 49.8835625471847000, lng: -119.4934860815880000 }, { lat: 49.8835612913091000, lng: -119.4913400285790000 }, { lat: 49.8835597593898000, lng: -119.4888159229710000 }, { lat: 49.8835596182872000, lng: -119.4885881462420000 }, { lat: 49.8835601740870000, lng: -119.4884762958080000 }, { lat: 49.8835351964124000, lng: -119.4827585580520000 }, { lat: 49.8835104106296000, lng: -119.4781528937030000 }, { lat: 49.8834688010831000, lng: -119.4770327337690000 }, { lat: 49.8834586685941000, lng: -119.4769084382810000 }, { lat: 49.8834341214995000, lng: -119.4764327089860000 }, { lat: 49.8833497327744000, lng: -119.4747975421840000 }, { lat: 49.8831638260126000, lng: -119.4734241826900000 }, { lat: 49.8830028793514000, lng: -119.4726047240880000 }, { lat: 49.8823217522346000, lng: -119.4700476165950000 }, { lat: 49.8820659721237000, lng: -119.4688659277820000 }, { lat: 49.8820647830904000, lng: -119.4688520847810000 }, { lat: 49.8819017281859000, lng: -119.4669502275950000 }, { lat: 49.8818670350845000, lng: -119.4657816079420000 }, { lat: 49.8818682085993000, lng: -119.4628586409500000 }, { lat: 49.8818664062094000, lng: -119.4626358746510000 }, { lat: 49.8818631274759000, lng: -119.4622306584250000 }, { lat: 49.8818645126453000, lng: -119.4599461405990000 }, { lat: 49.8818651191626000, lng: -119.4591871089070000 }, { lat: 49.8818658960448000, lng: -119.4582051046950000 }, { lat: 49.8818773788340000, lng: -119.4546588985900000 }, { lat: 49.8818770161055000, lng: -119.4544871012350000 }, { lat: 49.8818614436293000, lng: -119.4497990910310000 }, { lat: 49.8818574010882000, lng: -119.4483466260520000 }, { lat: 49.8818547265799000, lng: -119.4476246779190000 }, { lat: 49.8818543868328000, lng: -119.4473480886750000 }, { lat: 49.8818533609500000, lng: -119.4467125689410000 }, { lat: 49.8818533420118000, lng: -119.4466985581140000 }, { lat: 49.8818252327187000, lng: -119.4432963061130000 }, { lat: 49.8818247053220000, lng: -119.4431371046700000 }, { lat: 49.8818195317523000, lng: -119.4421559697730000 }, { lat: 49.8818077183931000, lng: -119.4399218603960000 }, { lat: 49.8817950056266000, lng: -119.4374856159910000 }, { lat: 49.8817937185840000, lng: -119.4373740268420000 }, { lat: 49.8818073165080000, lng: -119.4357820796940000 }, { lat: 49.8818926770108000, lng: -119.4349636227580000 }, { lat: 49.8820025575522000, lng: -119.4344029078520000 }, { lat: 49.8820659400677000, lng: -119.4340752269440000 }, { lat: 49.8823711831232000, lng: -119.4331440747600000 }, { lat: 49.8842912194366000, lng: -119.4289567571550000 }, { lat: 49.8852356327509000, lng: -119.4268673019550000 }, { lat: 49.8857304346554000, lng: -119.4259506317500000 }, { lat: 49.8858711304941000, lng: -119.4257375262970000 }, { lat: 49.8861596613352000, lng: -119.4252949117110000 }, { lat: 49.8862003845757000, lng: -119.4252342112930000 }, { lat: 49.8865052350065000, lng: -119.4247797918240000 }, { lat: 49.8867099910774000, lng: -119.4244765005650000 }, { lat: 49.8882986763720000, lng: -119.4221231515400000 }, { lat: 49.8885117158750000, lng: -119.4218075556080000 }, { lat: 49.8890340362711000, lng: -119.4210335198730000 }, { lat: 49.8893988452227000, lng: -119.4204931988810000 }, { lat: 49.8894950450930000, lng: -119.4203661304020000 }, { lat: 49.8899423166202000, lng: -119.4197705815090000 }, { lat: 49.8902102412406000, lng: -119.4194245871400000 }, { lat: 49.8905140503984000, lng: -119.4190322277860000 }, { lat: 49.8908011519234000, lng: -119.4186614611010000 }, { lat: 49.8927096501776000, lng: -119.4166880690900000 }, { lat: 49.8947415601658000, lng: -119.4148174562560000 }, { lat: 49.8949547486607000, lng: -119.4146211838610000 }, { lat: 49.8953799637276000, lng: -119.4142303525550000 }, { lat: 49.8953877166689000, lng: -119.4142232372220000 }, { lat: 49.8957297924850000, lng: -119.4139054950330000 }, { lat: 49.9009158160457000, lng: -119.4090777237260000 }, { lat: 49.9012533979914000, lng: -119.4087605516320000 }, { lat: 49.9018731391763000, lng: -119.4081868244440000 }, { lat: 49.9043453030308000, lng: -119.4058980243820000 }, { lat: 49.9046679957028000, lng: -119.4055885064960000 }, { lat: 49.9052424955640000, lng: -119.4050525008900000 }, { lat: 49.9054907563060000, lng: -119.4048265000910000 }, { lat: 49.9060441477851000, lng: -119.4043129318980000 }, { lat: 49.9094415979196000, lng: -119.4011596550240000 }, { lat: 49.9103157472920000, lng: -119.4002320163870000 }, { lat: 49.9104955474603000, lng: -119.4000057364670000 }, { lat: 49.9109032458955000, lng: -119.3994926452840000 }, { lat: 49.9109882133575000, lng: -119.3993656550070000 }, { lat: 49.9113662673657000, lng: -119.3988006384700000 }, { lat: 49.9119162060741000, lng: -119.3979030832940000 }, { lat: 49.9124276792207000, lng: -119.3969369723810000 }, { lat: 49.9128334829303000, lng: -119.3961651152870000 }, { lat: 49.9130240141082000, lng: -119.3958061410760000 }, { lat: 49.9131004346259000, lng: -119.3956510550290000 }, { lat: 49.9131438390392000, lng: -119.3955666631380000 }, { lat: 49.9149186644542000, lng: -119.3921156959680000 }, { lat: 49.9161368928293000, lng: -119.3899646939460000 }, { lat: 49.9164207099585000, lng: -119.3894760767810000 }, { lat: 49.9165143306594000, lng: -119.3893350991350000 }, { lat: 49.9166590846784000, lng: -119.3891170966620000 }, { lat: 49.9169255481328000, lng: -119.3887148854030000 }, { lat: 49.9173180989067000, lng: -119.3882622195050000 }, { lat: 49.9176470800478000, lng: -119.3879530094560000 }, { lat: 49.9181524489912000, lng: -119.3875888426070000 }, { lat: 49.9192760756561000, lng: -119.3868903241350000 }, { lat: 49.9196533838102000, lng: -119.3867236127740000 }, { lat: 49.9201193009969000, lng: -119.3865721093300000 }, { lat: 49.9201283055284000, lng: -119.3865709287510000 }, { lat: 49.9206237106830000, lng: -119.3865058896480000 }, { lat: 49.9219007413568000, lng: -119.3864926712190000 }, { lat: 49.9228055848693000, lng: -119.3864876675730000 }, { lat: 49.9244258041406000, lng: -119.3864787185410000 }, { lat: 49.9251140670654000, lng: -119.3864775606690000 }, { lat: 49.9291059589292000, lng: -119.3864709256080000 }, { lat: 49.9300088022378000, lng: -119.3864671888500000 }, { lat: 49.9305566932225000, lng: -119.3865373442300000 }, { lat: 49.9310655815484000, lng: -119.3867390514410000 }, { lat: 49.9313618305882000, lng: -119.3869338532800000 }, { lat: 49.9317600123484000, lng: -119.3873208879060000 }, { lat: 49.9321085325356000, lng: -119.3877976647240000 }, { lat: 49.9323865097074000, lng: -119.3882243806710000 }, { lat: 49.9327388376083000, lng: -119.3887652576000000 }, { lat: 49.9330850890197000, lng: -119.3892967984890000 }, { lat: 49.9336240761818000, lng: -119.3898620780190000 }, { lat: 49.9339599562996000, lng: -119.3901001214230000 }, { lat: 49.9339987573990000, lng: -119.3901160495600000 }, { lat: 49.9342924019375000, lng: -119.3902365488770000 }, { lat: 49.9346790959526000, lng: -119.3902993619810000 }, { lat: 49.9353528462942000, lng: -119.3902855647460000 }, { lat: 49.9356008394720000, lng: -119.3903545098730000 }, { lat: 49.9357599823686000, lng: -119.3904475351840000 }, { lat: 49.9359825879823000, lng: -119.3907090187040000 }, { lat: 49.9360941101175000, lng: -119.3908956865430000 }, { lat: 49.9362285242387000, lng: -119.3913266451800000 }, { lat: 49.9363180277653000, lng: -119.3918662411980000 }, { lat: 49.9364186759142000, lng: -119.3919327827920000 }, { lat: 49.9364753406276000, lng: -119.3920784478010000 }, { lat: 49.9367467319055000, lng: -119.3919361281440000 }, { lat: 49.9367703214031000, lng: -119.3919237538530000 }, { lat: 49.9369569587488000, lng: -119.3917246159690000 }, { lat: 49.9372158335643000, lng: -119.3912567098710000 }, { lat: 49.9372321320988000, lng: -119.3912272480880000 }, { lat: 49.9374335709031000, lng: -119.3909741965340000 }, { lat: 49.9376971940502000, lng: -119.3907638845660000 }, { lat: 49.9399544716137000, lng: -119.3897271264730000 }, { lat: 49.9402266697307000, lng: -119.3896736441030000 }, { lat: 49.9404800897150000, lng: -119.3897278151230000 }, { lat: 49.9406805221272000, lng: -119.3898316464430000 }, { lat: 49.9409218461551000, lng: -119.3900442700360000 }, { lat: 49.9409510285453000, lng: -119.3899742797370000 }, { lat: 49.9410514616824000, lng: -119.3899177363370000 }, { lat: 49.9411571193030000, lng: -119.3899625676080000 }, { lat: 49.9412238580399000, lng: -119.3900955914060000 }, { lat: 49.9412256929969000, lng: -119.3902604169500000 }, { lat: 49.9411974056359000, lng: -119.3903302776160000 }, { lat: 49.9411664326261000, lng: -119.3904005278050000 }, { lat: 49.9410659992559000, lng: -119.3904570702860000 }, { lat: 49.9409631112539000, lng: -119.3904132352680000 }, { lat: 49.9407878870312000, lng: -119.3906667035270000 }, { lat: 49.9404201634383000, lng: -119.3909774737570000 }, { lat: 49.9402854501059000, lng: -119.3911690983690000 }, { lat: 49.9401790708305000, lng: -119.3914111748690000 }, { lat: 49.9400869230387000, lng: -119.3917393258380000 }, { lat: 49.9400397820189000, lng: -119.3921099143890000 }, { lat: 49.9400377045637000, lng: -119.3925089427690000 }, { lat: 49.9400808048951000, lng: -119.3929084146930000 }, { lat: 49.9403868359527000, lng: -119.3941623547300000 }, { lat: 49.9393998232748000, lng: -119.3947669144820000 }, ];
        var closestTo = [{ lng: -119.459187, lat: 49.881808 }, { lng: -119.4591870451881, lat: 49.881865119213 }];
        var markers = [];
        function initialize() {
            var mapProp = {
                center:new google.maps.LatLng(49.882114,-119.477829),
                zoom:12,
                mapTypeId:google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
           // setMarkers(map);

            for (var i = 0; i < window.busStops.length; i++) {
                var stop = window.busStops[i];
                //markers.push(new google.maps.LatLng(stop));
                markers.push(new google.maps.Marker({ map: map, position: { lng: -119.459187, lat: 49.881808 } }));
            }
            var polyline = new google.maps.Polyline({ map: map, strokeColor: "#ff0000", strokeWeight: 2, strokeOpacity: 1, path: busStops });
            var polyline = new google.maps.Polyline({ map: map, strokeColor: "#00ff00", strokeWeight: 2, strokeOpacity: 1, path: closestTo });
        }
        google.maps.event.addDomListener(window, 'load', initialize);

        // Data for the markers consisting of a name, a LatLng and a zIndex for the
        // order in which these markers should display on top of each other.
   
        

        function setMarkers(map) {
            // Adds markers to the map.

            // Marker sizes are expressed as a Size of X,Y where the origin of the image
            // (0,0) is located in the top left of the image.

            // Origins, anchor positions and coordinates of the marker increase in the X
            // direction to the right and in the Y direction down.
            var image = {
                url: 'http://i.imgur.com/qyMqRlM.png',
                // This marker is 20 pixels wide by 32 pixels high.
                size: new google.maps.Size(20, 32),
                // The origin for this image is (0, 0).
                origin: new google.maps.Point(0, 0),
                // The anchor for this image is the base of the flagpole at (0, 32).
                anchor: new google.maps.Point(0, 32)
            };
            // Shapes define the clickable region of the icon. The type defines an HTML
            // <area> element 'poly' which traces out a polygon as a series of X,Y points.
            // The final coordinate closes the poly by connecting to the first coordinate.
            var shape = {
                coords: [1, 1, 1, 20, 18, 20, 18, 1],
                type: 'poly'
            };
            for (var i = 0; i < busStops.length; i++) {
                var busStop = busStops[i];
                var marker = new google.maps.Marker({
                    position: { lat: busStop[1], lng: busStop[2] },
                    map: map,
                    icon: image,
                    shape: shape,
                    title: busStop[0],
                    zIndex: busStop[3]
                });
            }
        }





    </script>
    <h2 class="text-center">Majic Bus- Kelowna, BC</h2>
    <div id="googleMap" style="width:1000px;height:500px;"></div>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    <div class="form-group">
        <label for="route">Bus Route: </label>
        <input type="text" class="form-control" id="route" placeholder="Enter Bus Route: ">
    </div>